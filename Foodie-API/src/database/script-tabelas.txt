
CREATE TABLE USUARIO (
    ID_USUARIO INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    NOME  		VARCHAR(100),    
	EMAIL		VARCHAR(100),
	SENHA    	VARCHAR(100),
	ENDERECO	VARCHAR(100),
	COMPLEMENTO VARCHAR(50),
	BAIRRO		VARCHAR(50),
	CIDADE		VARCHAR(50),
	UF			VARCHAR(2),
	CEP			VARCHAR(10),
	DT_CADASTRO	DATETIME
);


CREATE TABLE CATEGORIA (
    ID_CATEGORIA INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    CATEGORIA  	VARCHAR(50),
    ICONE      	VARCHAR(1000),
	ORDEM		INTEGER
);


CREATE TABLE EMPRESA (
    ID_EMPRESA  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	NOME		VARCHAR(200),
	FOTO   		VARCHAR(1000),
	ICONE   	VARCHAR(1000),	
	ID_CATEGORIA INTEGER,
	VL_TAXA_ENTREGA	DECIMAL(12, 2),	
	ENDERECO	VARCHAR(100),
	COMPLEMENTO	VARCHAR(50),
	BAIRRO		VARCHAR(50),
	CIDADE		VARCHAR(50),
	UF			VARCHAR(2),
	CEP			VARCHAR(10),
	
	FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA(ID_CATEGORIA)
);


CREATE TABLE BANNER (
    ID_BANNER   INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    ICONE      	VARCHAR(1000),	
	ID_EMPRESA	INTEGER,
	ORDEM		INTEGER,
	
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);


CREATE TABLE DESTAQUE (
    ID_DESTAQUE INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	ID_EMPRESA	INTEGER,
	ORDEM		INTEGER,
	
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);


CREATE TABLE USUARIO_FAVORITO (
    ID_FAVORITO INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    ID_USUARIO INTEGER,
    ID_EMPRESA INTEGER,
	
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID_USUARIO),
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)	
);


CREATE TABLE PRODUTO_CATEGORIA (
    ID_CATEGORIA INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	ID_EMPRESA   INTEGER,
	CATEGORIA	 VARCHAR(100),	
	ORDEM		 INTEGER,
	
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)	
);


CREATE TABLE PRODUTO (
    ID_PRODUTO   INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	ID_EMPRESA   INTEGER,
	ID_CATEGORIA INTEGER,
	NOME		 VARCHAR(100),
	DESCRICAO	 VARCHAR(500),
	ICONE 	 	 VARCHAR(1000),	
	VL_PRODUTO   DECIMAL(12, 2),	
    IND_ATIVO	 CHAR(1),
	
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA),
	FOREIGN KEY (ID_CATEGORIA) REFERENCES PRODUTO_CATEGORIA(ID_CATEGORIA)	
);


CREATE TABLE PEDIDO (
    ID_PEDIDO   INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	ID_USUARIO  INTEGER,
	ID_EMPRESA  INTEGER,
	VL_SUBTOTAL DECIMAL(12, 2),
	VL_TAXA_ENTREGA	DECIMAL(12, 2),
	VL_TOTAL	DECIMAL(12, 2),
	DT_PEDIDO 	DATETIME,
    STATUS  	CHAR(1),    -- P (Em Produção), F (Finalizado)    	
	
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID_USUARIO),
	FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);


CREATE TABLE PEDIDO_ITEM (	    
	ID_ITEM     INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	ID_PEDIDO 	INTEGER,
	ID_PRODUTO 	INTEGER,
	OBS     	VARCHAR(500),
	QTD  		INT,		
	VL_UNITARIO	DECIMAL(12, 2),
	VL_TOTAL	DECIMAL(12, 2),
	
	FOREIGN KEY (ID_PEDIDO) REFERENCES PEDIDO(ID_PEDIDO),
	FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTO(ID_PRODUTO)
);